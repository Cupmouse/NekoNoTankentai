CREATE TABLE `blocks` (
	`difficulty` BIGINT(20) UNSIGNED NOT NULL,
	`extra_data` VARBINARY(32) NOT NULL,
	`gas_limit` INT(11) UNSIGNED NOT NULL,
	`gas_used` INT(11) UNSIGNED NOT NULL,
	`hash` BINARY(32) NOT NULL,
	`logs_bloom` VARBINARY(256) NOT NULL,
	`miner` BINARY(20) NOT NULL,
	`mix_hash` BINARY(32) NOT NULL,
	`nonce` BIGINT(20) UNSIGNED NOT NULL,
	`number` INT(11) UNSIGNED NOT NULL,
	`parent_hash` BINARY(32) NOT NULL,
	`receipts_root` BINARY(32) NOT NULL,
	`sha3_uncles` BINARY(32) NOT NULL,
	`size` SMALLINT(5) UNSIGNED NOT NULL,
	`state_root` BINARY(32) NOT NULL,
	`timestamp` DATETIME NOT NULL,
	`total_difficulty` VARBINARY(16) NOT NULL,
	`transactions` LONGTEXT NOT NULL,
	`transactions_root` BINARY(32) NOT NULL,
	`uncles` LONGTEXT NOT NULL,
	PRIMARY KEY (`number`),
	INDEX `miner` (`miner`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
;
CREATE TABLE `transactions` (
	`block_number` INT(10) UNSIGNED NOT NULL,
	`from` BINARY(20) NOT NULL,
	`gas` MEDIUMINT(8) UNSIGNED NOT NULL,
	`gas_price` VARBINARY(16) NOT NULL,
	`hash` BINARY(32) NOT NULL,
	`input` BLOB NOT NULL,
	`nonce` BIGINT(20) UNSIGNED NOT NULL,
	`r` BINARY(32) NOT NULL,
	`s` BINARY(32) NOT NULL,
	`to` BINARY(20) NULL DEFAULT NULL,
	`transaction_index` SMALLINT(5) UNSIGNED NOT NULL,
	`v` SMALLINT(5) UNSIGNED NOT NULL,
	`value` VARBINARY(16) NOT NULL,
	INDEX `to` (`to`),
	INDEX `from` (`from`),
	INDEX `block_number` (`block_number`),
	CONSTRAINT `FK_transactions_blocks` FOREIGN KEY (`block_number`) REFERENCES `blocks` (`number`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
;
